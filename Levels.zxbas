dim cutscene as ubyte = 0
dim gameDifficulty as ubyte = 1
dim keyLeft as uinteger
dim keyRight as uinteger
dim keyUp as uinteger
dim keyDown as uinteger
dim keyFire as uinteger
dim map(20,31) as ubyte

dim localMapNumber as ubyte

const AlienActionEmpty as ubyte = 0
const AlienActionUp as ubyte = 1
const AlienActionDown as ubyte = 2
const AlienActionLeft as ubyte = 3
const AlienActionRight as ubyte = 4
const AlienActionFireLeft as ubyte = 5
const AlienActionFireRight as ubyte = 6

const AlienLocationUp as ubyte = 0
const AlienLocationDown as ubyte = 1

dim Grenades as ubyte = 0

dim achSFS as ubyte = 0 ' Achievement Strike From Sky
dim achBB as ubyte = 0 ' Achievement Burn Baby!
dim achFB as ubyte = 0 ' Achievement First Blood!
dim achTL as ubyte = 0 'Take the loot

dim vector(6108) as ubyte => {32,11,110,197,4,0,10,11,13,0,3,11,110,3,0,162,100,2,11,4,0,4,11,2,5,100,102,109,108,109,108,5,0,110,100,222,3,1,5,0,163,164,2,0,3,11,8,1,106,3,0,198,110,100,111,3,11,6,0,165,166,2,0,11,11,2,1,106,3,1,106,111,3,11,10,0,2,11,6,0,5,11,106,3,11,106,111,3,11,7,1,106,2,1,2,11,102,109,102,109,102,109,111,4,0,106,100,2,11,106,111,3,11,7,0,106,2,0,2,11,106,5,1,111,100,2,5,100,106,100,2,11,106,111,4,11,105,5,0,106,2,9,2,11,106,7,0,3,11,106,3,11,106,111,4,11,105,198,3,0,106,3,1,2,11,106,10,0,106,2,0,111,106,111,5,11,4,1,106,4,11,100,106,162,4,0,118,100,2,3,100,106,2,0,111,106,111,2,11,7,0,106,100,3,11,108,106,100,198,3,0,119,100,2,4,100,106,2,0,111,106,111,2,11,7,0,106,100,3,11,4,1,106,7,1,106,2,0,111,106,111,7,11,107,102,106,2,0,6,11,106,7,11,106,100,108,111,106,111,7,11,2,1,106,2,0,6,11,106,7,11,3,1,111,106,111,3,11,3,0,3,11,2,1,106,4,11,2,0,106,2,0,9,11,106,111,2,11,6,0,111,2,0,106,6,0,106,2,0,111,5,0,3,11,106,111,100,110,118,5,0,110,2,0,106,3,0,198,2,0,106,100,2,11,8,0,106,111,100,110,119,109,108,198,108,109,110,2,0,106,8,1,111,2,0,118,6,0,106,100,12,1,9,11,2,0,119,109,108,109,198,2,0,106,199,21,11,11,1,255,32,11,7,11,8,0,2,11,6,0,110,118,100,118,110,3,0,111,7,11,2,0,108,109,102,109,108,100,2,11,108,109,108,109,108,198,110,119,100,119,110,108,109,108,111,7,11,101,106,6,1,2,11,8,1,106,5,1,222,161,100,161,100,161,2,11,106,10,11,4,0,110,118,106,118,110,3,0,222,3,0,118,100,2,11,106,3,0,3,11,3,0,111,102,109,108,100,110,119,106,119,110,100,109,102,222,3,0,119,198,2,11,106,2,0,118,100,2,10,3,0,111,6,1,106,5,1,222,106,4,1,2,11,106,2,5,119,100,2,10,2,0,102,2,11,3,0,110,118,106,118,110,3,0,222,106,7,11,4,1,106,3,1,106,2,11,102,109,198,110,119,106,119,110,198,100,107,222,106,2,11,100,163,164,100,5,11,106,3,11,106,2,11,5,1,106,3,1,106,101,222,106,3,0,165,166,3,0,3,11,106,3,11,106,7,11,106,3,11,106,2,11,111,106,4,0,198,6,0,106,111,2,0,106,2,0,5,11,106,3,11,106,2,11,111,106,100,106,3,1,106,5,0,106,111,105,100,106,7,0,106,3,11,106,2,11,111,106,100,106,3,11,106,108,109,102,109,108,106,111,105,100,106,108,109,108,109,108,2,0,106,3,11,106,2,11,111,3,1,3,11,6,1,106,111,11,1,3,11,106,2,11,13,11,106,15,11,106,2,11,13,11,106,15,11,106,2,11,100,161,2,0,161,2,0,161,2,0,161,100,111,106,2,11,100,161,2,0,161,2,0,161,2,0,161,100,111,106,111,100,197,100,169,170,100,169,170,100,169,170,100,118,110,106,2,11,100,118,6,0,2,5,3,0,2,10,100,2,0,171,172,100,171,172,100,171,172,100,119,110,106,2,11,100,119,3,0,198,100,4,5,2,0,2,10,199,14,1,2,11,16,1,255,32,11,4,11,8,0,5,11,4,0,2,11,3,0,4,11,2,0,2,11,9,0,118,110,7,0,118,110,4,0,3,11,3,0,2,11,2,0,198,108,109,108,109,108,100,119,110,4,0,198,2,0,119,110,3,0,4,11,100,198,199,2,11,101,106,9,1,3,0,3,1,106,3,1,106,101,4,11,106,2,1,3,11,106,9,11,6,0,106,3,11,106,5,11,106,2,11,3,11,106,111,5,0,2,11,2,0,163,164,3,0,106,3,11,106,5,11,106,2,11,111,2,0,106,111,100,118,3,0,2,11,118,100,165,166,3,0,106,3,11,106,5,11,106,2,11,111,2,8,106,111,198,119,100,108,105,2,11,119,4,0,108,109,106,2,11,100,106,3,0,2,11,106,2,11,111,106,2,1,111,2,1,106,2,1,2,11,2,1,3,0,3,1,111,2,0,106,4,0,111,106,2,11,111,106,3,11,2,0,106,2,0,3,11,6,0,2,11,2,0,106,100,118,2,0,111,106,2,11,111,106,3,11,2,0,106,4,0,2,11,5,0,3,11,108,106,100,119,198,2,11,106,2,11,111,106,2,0,110,2,0,106,5,0,2,11,3,0,5,11,106,5,11,106,100,222,106,2,9,110,105,100,106,100,102,109,108,107,10,11,106,4,11,100,106,100,222,6,1,106,5,1,9,11,100,106,100,3,11,100,106,100,111,6,11,100,106,2,0,5,11,3,0,3,11,2,0,106,2,0,2,11,108,106,100,111,3,11,4,0,106,100,2,5,3,11,9,0,106,3,0,2,11,106,100,111,7,0,106,100,2,5,3,11,2,0,2,67,100,2,3,2,0,106,4,0,110,106,100,111,197,3,0,106,6,1,4,11,102,2,68,198,2,4,2,0,106,100,3,9,110,106,102,111,4,0,106,10,11,16,1,111,5,1,27,11,255,32,11,100,161,2,0,161,2,0,161,3,0,111,3,0,5,11,2,0,111,6,0,3,11,197,100,169,170,100,169,170,100,162,100,118,110,6,0,2,11,100,118,110,100,118,100,118,2,0,3,11,100,109,171,172,109,171,172,109,2,0,119,110,100,198,105,108,109,107,2,11,100,119,110,100,119,198,119,198,100,3,11,8,1,106,9,1,2,11,106,8,1,3,11,8,11,106,11,11,106,11,11,4,11,4,0,106,118,110,100,8,11,106,111,3,0,7,11,3,11,2,0,102,109,102,106,119,110,4,0,5,11,106,100,163,164,2,0,6,11,2,11,2,0,106,6,1,105,4,0,4,11,106,100,165,166,100,162,2,0,3,10,100,2,11,2,0,106,6,11,2,5,100,162,100,4,11,106,2,0,109,108,109,108,109,3,10,199,2,11,2,0,106,4,0,2,11,2,5,198,2,0,4,11,3,1,106,8,1,2,11,109,102,106,100,162,2,0,2,11,5,1,6,11,100,106,100,7,11,2,11,3,1,4,0,12,11,2,0,106,2,0,6,11,5,11,3,1,100,5,11,5,0,2,11,2,0,106,2,0,6,11,8,11,100,3,11,7,0,3,11,100,106,100,3,11,2,0,2,11,8,11,100,2,11,4,0,198,2,0,5,11,106,3,11,4,0,222,3,0,3,11,3,0,111,100,106,4,1,106,111,2,0,2,11,106,2,11,5,0,222,5,0,110,118,100,118,110,100,106,111,3,0,106,2,0,118,110,100,106,4,0,118,2,0,222,108,109,198,109,108,110,119,100,119,110,100,106,111,108,109,108,106,2,0,119,110,100,106,102,109,102,109,119,109,102,222,12,1,111,17,1,111,32,11,255,32,11,2,11,100,161,100,161,100,161,100,9,11,100,161,100,161,100,159,160,100,161,100,161,118,110,100,2,11,105,5,0,198,2,11,4,0,3,11,9,0,198,100,119,110,107,2,11,2,1,106,2,1,106,101,111,6,0,2,11,106,13,1,4,11,106,2,11,106,2,11,2,0,163,164,2,0,2,11,106,13,11,4,11,106,111,100,106,2,0,162,100,165,166,4,0,106,100,6,11,5,0,111,4,11,106,111,108,106,2,0,109,108,109,108,109,108,198,100,106,102,4,11,4,0,2,9,2,0,4,11,106,111,14,1,4,11,3,0,106,2,1,106,100,197,3,0,106,18,11,2,0,2,9,106,2,0,106,100,100,157,158,100,106,9,11,3,0,6,11,2,0,3,1,2,0,106,100,5,1,8,11,5,0,5,11,7,0,106,100,11,11,11,0,111,6,0,106,2,1,9,11,13,0,110,100,162,2,0,118,100,106,2,0,8,11,5,0,108,109,108,109,198,109,108,109,108,110,4,0,119,100,106,2,0,5,11,5,0,13,1,3,0,4,1,2,0,100,111,8,0,12,11,10,0,100,110,118,100,162,100,2,5,2,0,110,2,0,9,11,9,0,111,100,110,119,100,198,4,5,100,110,2,0,110,2,0,7,11,8,0,111,11,1,100,198,110,100,162,7,11,7,0,2,11,11,11,4,1,100,8,11,100,157,158,100,4,11,15,11,199,16,11,255,15,11,197,16,11,111,161,2,0,161,2,0,161,100,111,4,0,111,100,111,4,0,111,2,0,161,2,0,161,2,0,161,222,100,169,170,100,169,170,2,0,110,118,3,0,110,118,110,3,0,118,110,3,0,169,170,100,169,170,100,222,108,171,172,108,171,172,108,100,110,119,100,198,100,110,119,110,100,198,100,119,110,2,0,108,171,172,108,171,172,108,222,7,1,106,13,1,106,8,1,111,7,11,100,106,100,11,11,100,106,100,8,11,111,5,0,111,102,106,109,111,100,118,7,0,111,109,106,102,111,6,0,222,2,0,198,2,0,2,11,106,2,11,100,119,109,108,109,108,109,107,109,2,11,106,2,11,3,0,198,2,0,222,106,3,11,108,2,11,106,6,11,106,6,11,106,2,11,108,4,11,106,222,106,3,11,109,111,100,106,6,0,106,111,5,0,106,100,111,109,4,11,106,222,106,3,11,108,111,100,106,6,0,106,111,108,109,108,109,108,106,100,111,108,4,11,106,222,106,3,11,109,2,11,106,13,11,106,2,11,109,4,11,106,222,106,6,0,106,111,11,0,111,106,7,0,106,222,106,6,0,106,111,2,0,163,164,3,0,163,164,2,0,111,106,7,0,106,222,8,1,111,2,0,165,166,100,162,100,165,166,2,0,111,9,1,111,10,11,9,0,162,100,11,11,12,11,100,19,11,11,0,110,118,5,0,118,110,12,0,100,4,9,100,198,4,0,110,119,5,0,119,110,5,0,198,100,4,9,199,32,1,32,11,255,16,11,100,15,11,111,10,0,5,11,199,15,11,111,2,0,108,109,108,109,107,3,0,5,11,106,111,4,0,2,11,100,161,100,161,100,161,100,222,106,8,1,100,5,11,106,111,4,0,110,118,6,0,118,222,106,6,11,4,0,161,100,2,11,106,111,3,0,198,110,119,2,0,198,3,0,119,222,106,6,11,5,9,100,2,11,106,2,11,109,111,9,1,106,222,106,11,11,100,2,11,106,2,11,108,10,11,106,222,106,2,11,3,0,6,11,2,0,111,106,2,11,109,10,11,106,222,106,3,0,163,164,111,100,161,100,161,3,0,111,106,2,11,108,10,11,106,222,106,100,118,100,165,166,110,118,9,0,110,2,0,9,11,106,222,106,100,119,100,198,100,110,119,100,108,109,108,109,108,109,108,100,110,11,0,106,222,8,1,106,9,1,11,0,106,111,9,11,106,6,11,106,2,11,7,1,106,4,1,111,9,11,106,3,11,100,161,100,106,8,11,100,106,2,0,3,11,9,11,106,111,5,0,106,2,11,5,0,110,118,106,3,0,2,11,9,11,106,111,4,0,108,106,2,11,102,109,102,109,198,110,119,106,3,0,2,11,4,0,111,100,161,100,161,106,3,11,2,0,109,106,8,11,4,1,106,2,11,197,100,162,118,110,4,0,106,4,11,100,108,106,11,11,100,106,111,100,3,0,119,110,3,0,198,106,3,11,2,0,109,106,2,0,2,5,5,0,110,118,100,106,110,100,10,1,3,11,2,0,108,106,100,4,5,100,198,2,0,110,119,100,106,110,100,13,11,19,1,255,32,11,6,11,2,0,161,2,0,161,2,0,3,11,11,0,118,3,0,5,11,100,169,170,100,169,170,100,169,170,5,0,108,109,108,109,108,109,108,198,100,119,2,0,199,5,11,100,171,172,100,171,172,100,171,172,3,0,106,14,1,5,11,12,1,106,14,11,10,11,6,0,162,106,100,5,11,7,0,222,161,100,161,100,161,2,0,111,8,0,106,2,0,3,11,5,0,162,3,0,111,100,118,4,0,118,110,2,0,2,3,100,118,2,0,106,100,107,3,11,7,0,169,170,111,100,119,4,0,119,110,2,0,2,4,100,119,198,100,106,6,11,5,0,109,171,172,111,4,1,106,12,1,7,11,108,109,107,4,11,5,11,106,24,11,2,0,3,0,2,11,106,13,11,4,0,6,11,3,0,4,0,111,106,111,100,161,100,161,100,161,100,111,5,0,163,164,5,0,4,11,100,2,0,3,11,106,8,0,110,118,4,0,165,166,5,0,110,118,100,111,100,5,11,106,100,109,108,109,198,3,0,110,119,2,0,198,108,109,108,109,108,109,108,100,110,119,100,2,11,111,3,0,111,24,1,106,2,11,111,3,0,25,11,106,2,11,111,6,0,22,11,106,2,11,111,100,2,67,14,0,162,2,0,105,7,0,106,2,11,2,11,2,68,157,158,100,198,3,0,162,108,2,9,108,197,2,0,109,3,5,109,198,100,108,109,108,106,2,11,2,11,14,1,106,13,1,2,11,255,32,11,197,3,0,118,110,100,161,100,161,100,161,100,161,100,161,100,161,100,161,100,161,100,161,100,118,110,4,0,111,4,0,119,110,6,0,198,100,108,109,108,109,108,109,108,4,0,119,110,4,0,111,29,1,100,2,11,28,11,2,0,2,11,111,4,0,5,11,2,0,110,118,3,0,110,100,8,11,3,0,2,11,111,102,109,102,198,100,4,11,2,0,110,119,100,107,100,110,4,0,5,11,3,0,2,11,111,3,1,106,2,0,2,11,3,0,6,1,7,0,2,11,3,0,2,11,4,11,106,100,118,100,118,100,118,2,0,4,11,2,0,118,100,162,4,0,111,3,0,2,11,4,11,106,100,119,100,119,100,119,2,0,4,11,100,198,119,2,0,163,164,2,0,111,3,0,2,11,4,11,9,1,3,11,100,106,3,1,100,165,166,2,0,111,3,0,2,11,16,11,100,106,8,0,110,118,2,0,2,11,2,11,7,0,7,11,100,106,100,108,109,108,198,108,109,108,110,119,2,0,2,11,111,10,0,5,11,13,1,100,2,11,111,3,0,105,5,0,157,18,11,100,2,11,2,11,158,3,5,2,0,198,100,3,11,2,0,13,11,100,162,100,111,13,11,4,0,4,11,3,0,3,11,4,0,111,3,11,6,0,3,11,105,2,0,118,2,0,2,11,4,0,2,11,100,162,4,0,2,11,3,0,118,3,0,105,2,11,2,5,100,119,100,2,11,198,2,0,2,5,100,111,158,3,0,162,100,3,11,2,0,119,2,0,2,5,9,11,2,0,3,5,100,7,11,24,11,199,7,11,255,24,11,197,7,11,5,11,100,161,100,161,8,11,161,100,161,100,111,4,0,162,4,0,111,3,11,100,161,5,0,5,11,161,5,0,110,118,8,0,111,3,11,3,0,163,164,2,0,161,3,11,7,0,110,119,2,0,108,109,108,109,108,109,111,2,11,161,3,0,165,166,4,0,3,11,100,162,2,0,12,1,111,2,11,12,0,111,5,0,12,11,111,2,0,169,170,100,169,170,100,169,170,100,118,100,2,11,4,0,5,11,6,0,222,2,9,171,172,198,171,172,108,171,172,198,119,100,2,11,105,100,162,2,0,2,11,3,0,108,109,108,109,108,222,106,12,1,2,11,2,5,7,0,106,4,1,106,222,106,16,11,2,9,5,0,106,3,0,111,106,222,106,110,118,100,2,11,100,111,8,0,2,11,2,5,2,9,198,100,106,2,9,2,11,106,222,106,110,119,109,111,4,0,2,11,5,0,13,11,106,222,3,1,106,111,2,0,10,11,161,100,161,9,11,106,222,100,118,110,106,111,100,2,11,6,0,111,161,5,0,161,111,5,0,111,106,222,109,119,110,106,3,11,100,162,100,3,3,100,110,7,0,110,118,4,0,111,106,222,106,3,1,3,11,2,0,107,3,4,100,110,2,0,198,4,0,110,119,3,0,2,11,106,222,106,6,11,100,3,1,106,6,1,3,0,3,1,106,2,1,2,11,106,222,106,5,11,2,0,111,2,0,106,2,0,2,11,6,0,2,11,106,3,11,100,106,222,106,3,0,162,110,118,100,111,102,109,106,102,109,3,11,100,2,67,100,118,100,111,106,2,0,110,118,106,222,106,109,198,2,9,110,119,100,7,11,100,2,11,2,68,100,119,100,111,106,100,198,110,119,106,111,11,11,5,0,199,100,7,11,6,1,111,255,16,11,197,15,11,2,11,4,0,2,11,2,0,111,4,0,111,100,111,3,0,159,111,2,0,2,11,3,0,2,11,111,160,100,163,164,2,0,111,100,118,110,2,0,162,118,110,118,110,4,0,110,118,100,111,5,0,222,2,0,165,166,2,0,111,100,119,110,198,2,0,119,110,119,110,100,198,2,0,110,119,100,111,100,162,3,0,222,2,0,198,3,0,111,106,15,1,106,111,2,0,198,2,0,222,106,4,1,106,111,106,111,13,0,111,106,111,106,3,1,106,222,106,4,11,106,111,106,111,13,0,111,106,111,106,3,11,106,222,106,4,11,106,111,106,111,100,108,109,108,109,108,109,108,109,108,109,108,100,111,106,111,106,3,11,106,222,106,4,11,106,111,106,111,6,1,106,6,1,111,106,111,106,3,11,106,222,106,4,11,106,111,106,7,11,106,7,11,106,111,106,3,11,106,222,106,4,11,106,100,106,7,11,106,7,11,106,100,106,3,11,106,222,106,4,11,106,100,106,4,11,100,2,11,106,2,11,100,4,11,106,100,106,3,11,106,222,106,4,11,3,1,3,11,3,0,111,106,111,3,0,3,11,3,1,3,11,106,222,106,10,11,3,0,111,106,111,3,0,9,11,106,222,106,111,7,0,111,4,0,111,106,111,4,0,111,160,5,0,111,106,222,106,110,118,100,162,4,0,110,118,3,0,111,106,111,100,162,100,118,110,5,0,118,110,106,222,106,110,119,4,0,198,100,110,119,100,157,2,11,106,2,11,2,0,119,110,2,0,198,2,0,119,110,106,222,11,1,106,3,11,106,3,11,106,10,1,111,12,11,106,3,0,106,3,0,106,11,11,12,11,106,102,109,102,106,102,109,102,106,11,11,12,11,9,1,11,11,255,2,11,105,6,0,3,5,100,162,100,17,11,2,11,2,5,102,109,107,109,5,5,2,0,110,118,110,161,100,161,100,161,100,161,100,161,100,161,100,161,100,4,11,106,9,11,162,110,119,110,100,105,100,105,100,105,100,105,100,105,100,105,100,199,4,11,106,7,0,20,11,4,11,106,102,109,102,109,102,109,100,5,11,6,0,111,7,0,111,11,11,106,100,110,118,8,0,110,118,6,0,111,4,11,100,161,100,4,11,106,100,110,119,109,108,109,198,109,108,109,100,110,119,109,108,109,108,109,198,111,2,11,100,161,3,0,161,100,161,17,11,106,4,11,2,11,2,0,163,164,5,0,111,4,0,11,11,106,4,11,2,11,2,0,165,166,100,169,170,100,118,110,2,0,162,100,110,100,2,11,160,100,111,4,0,106,4,11,3,11,100,198,2,0,171,172,100,119,110,198,3,0,110,100,111,2,0,118,110,3,0,105,106,4,11,6,11,106,10,1,106,111,108,100,119,110,198,157,2,5,106,4,11,6,11,106,7,0,3,11,106,3,11,106,10,11,5,11,100,106,108,109,108,109,108,100,107,3,11,106,3,11,106,10,11,3,0,111,2,0,6,1,106,3,11,100,106,3,11,106,10,11,197,100,118,110,8,0,106,3,11,100,106,3,11,106,2,11,100,159,160,3,0,2,11,2,0,119,110,109,102,109,102,109,3,0,106,2,11,105,108,106,100,2,11,106,111,7,0,2,11,9,1,106,3,1,2,11,2,5,106,3,0,106,169,170,3,67,4,0,111,5,11,118,2,0,105,106,5,11,2,5,106,198,157,158,106,171,172,3,68,108,109,108,157,111,5,11,119,100,2,5,106,5,11,16,1,111,32,11,255,32,11,197,118,110,2,0,159,167,25,11,100,119,110,3,9,168,9,11,161,100,161,100,161,100,161,100,161,100,6,11,6,1,2,67,7,11,11,0,161,100,161,100,2,11,6,11,2,68,111,2,0,111,100,198,161,2,0,198,5,0,198,4,0,198,2,0,111,2,11,2,0,159,3,67,160,2,0,110,100,169,170,100,169,170,100,169,170,100,169,170,100,169,170,100,169,170,105,111,2,11,108,109,108,3,68,108,109,108,110,109,171,172,108,171,172,109,171,172,108,171,172,109,171,172,108,171,172,105,111,2,11,106,27,1,106,111,2,11,106,27,11,106,111,2,11,106,100,111,3,0,2,11,4,0,110,118,7,0,2,11,3,0,110,118,106,222,198,106,118,110,118,2,0,111,2,5,100,2,11,110,119,4,9,3,0,111,4,0,110,119,106,222,105,106,119,110,119,2,0,111,3,5,2,11,7,1,106,101,2,11,2,0,102,3,1,222,7,1,13,11,106,4,11,100,109,4,11,111,106,3,0,162,100,106,4,11,100,161,100,161,100,161,3,11,106,100,111,3,0,108,105,3,11,111,106,5,0,106,2,11,6,0,162,2,0,2,11,106,100,110,118,2,0,2,5,3,11,111,106,5,0,106,111,4,0,162,163,164,4,0,111,106,100,110,119,2,8,2,5,3,11,111,7,0,111,5,0,165,166,4,0,111,8,1,3,11,111,100,162,3,0,2,5,2,11,5,0,162,3,0,11,11,2,0,2,11,100,198,100,2,5,4,11,109,108,109,108,109,108,109,108,111,8,0,118,110,2,0,20,11,109,105,109,105,109,105,109,100,119,110,100,199,20,11,12,1,255,32,11,8,11,160,7,0,110,100,110,100,105,7,0,118,110,100,111,10,11,157,158,2,0,162,100,110,100,110,2,5,100,109,108,109,108,109,100,119,110,100,111,13,11,3,5,111,106,12,1,100,111,5,11,161,100,161,100,161,2,0,5,11,106,12,11,100,111,4,11,100,163,164,3,0,2,5,100,4,11,106,11,11,2,0,222,2,0,111,100,165,166,2,0,4,5,2,0,111,100,106,8,11,2,0,110,118,100,222,100,118,110,4,0,5,67,100,118,110,100,106,6,11,4,0,110,119,100,222,100,119,110,109,108,109,108,5,68,102,119,110,100,106,3,0,2,11,5,0,4,11,111,106,15,1,106,100,118,100,2,11,3,0,6,11,111,106,11,11,4,0,106,109,119,109,111,2,0,8,11,111,106,161,100,161,100,161,100,161,111,2,0,111,100,118,2,0,106,3,1,111,100,118,110,2,0,5,11,111,106,100,169,170,100,169,170,100,110,118,100,111,109,119,109,108,106,3,0,111,100,119,110,4,0,3,11,111,106,108,171,172,108,171,172,108,110,119,198,111,4,1,106,100,118,100,5,11,4,0,2,11,111,10,1,106,111,4,0,106,108,119,109,6,11,3,0,2,11,11,11,106,111,100,118,2,0,106,3,1,7,11,2,0,2,11,11,11,106,111,108,119,109,102,106,10,11,2,0,2,11,9,0,111,100,106,111,4,1,106,5,0,3,11,100,110,118,100,2,11,197,2,0,162,4,0,118,110,100,106,2,11,5,0,162,100,105,100,111,118,2,0,110,119,100,2,11,100,7,9,119,110,107,106,2,11,2,0,162,3,0,2,5,2,11,119,2,0,5,11,12,1,20,11,255,7,11,7,0,18,11,6,11,100,109,108,109,108,109,102,2,0,118,110,4,0,8,11,3,0,2,11,5,0,106,5,11,109,102,119,110,100,198,3,0,118,110,100,4,11,100,108,199,111,100,108,109,108,109,108,106,12,11,2,0,119,110,109,100,2,11,100,106,2,1,13,11,6,0,5,11,105,100,2,11,109,106,2,11,100,161,100,161,100,161,100,161,100,161,100,111,3,0,163,164,4,0,4,11,2,0,111,101,106,100,111,197,9,0,118,110,3,0,165,166,4,0,3,11,3,0,2,11,106,108,111,100,108,109,108,109,108,109,108,109,108,119,110,198,4,0,3,9,100,3,11,100,109,105,111,100,106,101,111,3,1,106,9,1,4,0,4,1,2,11,2,0,2,5,111,109,106,2,11,3,11,106,6,11,7,0,6,11,2,0,3,11,101,106,100,111,3,11,106,5,11,6,0,162,100,6,11,105,3,0,2,11,106,108,111,3,11,106,7,11,7,0,5,11,105,108,2,0,111,100,106,101,111,3,11,106,8,11,6,0,111,3,0,3,11,100,105,111,109,106,2,11,3,11,106,3,11,118,111,3,0,162,4,0,118,110,100,118,2,0,111,2,0,2,11,101,106,100,111,3,11,106,3,11,119,111,198,6,0,198,119,110,109,119,108,109,111,2,0,3,11,106,108,111,3,11,106,3,11,106,2,11,198,5,0,106,6,1,111,105,2,0,111,100,106,101,111,3,11,106,3,11,106,3,11,5,9,106,8,11,2,0,111,109,106,2,11,111,198,5,0,106,3,11,6,1,2,11,7,0,2,11,101,106,2,11,111,109,108,109,108,109,108,109,10,11,7,0,118,110,2,0,106,2,11,111,7,1,10,11,109,108,109,108,109,105,100,119,110,107,100,106,2,11,32,11,255,14,11,4,0,14,11,197,2,0,118,110,100,161,3,0,161,2,0,111,4,0,111,161,2,0,105,3,0,161,100,110,118,100,111,3,0,119,110,2,0,198,100,2,5,2,0,111,4,0,111,2,0,3,5,4,0,110,119,100,111,12,1,106,111,4,0,111,106,10,1,106,111,2,11,2,0,161,4,0,161,2,0,106,111,4,0,111,106,161,100,161,100,161,2,0,110,100,111,106,111,2,11,3,0,105,6,0,106,111,4,0,111,106,100,2,5,3,0,118,110,100,111,106,111,2,11,3,0,2,5,198,4,0,106,111,4,0,111,106,4,5,2,0,119,110,100,111,106,111,2,11,106,10,1,111,4,0,111,9,1,106,111,106,111,2,11,106,100,161,4,0,161,100,3,11,4,0,3,11,100,161,100,161,100,110,100,106,111,106,111,2,11,106,8,0,3,11,4,0,3,11,5,0,110,118,106,111,106,111,2,11,106,100,2,5,198,100,105,2,0,3,11,4,0,3,11,5,0,110,119,106,111,106,111,2,11,8,1,106,3,11,4,0,3,11,106,7,1,111,106,111,3,11,100,161,3,0,161,100,106,3,11,4,0,3,11,106,8,11,106,111,3,11,7,0,106,3,11,4,0,3,11,106,3,11,5,0,106,111,3,11,2,0,2,5,100,198,100,106,3,11,100,173,174,100,111,2,0,106,3,11,5,0,106,111,3,11,106,7,1,3,11,100,175,176,100,110,118,100,106,3,11,109,108,109,108,109,106,111,3,11,106,100,161,2,0,161,2,0,161,100,111,100,177,178,100,110,119,100,106,8,11,106,111,3,11,106,9,0,10,11,7,0,106,111,3,11,106,2,0,198,2,0,105,5,0,118,110,8,0,3,5,2,0,106,111,3,11,9,1,106,198,100,119,110,100,3,5,2,0,106,7,1,111,12,11,12,1,8,11}
'dim vector(6489) as ubyte => {32,11,110,197,4,0,10,11,13,0,3,11,110,3,0,162,100,2,11,4,0,4,11,2,5,100,102,109,108,109,108,5,0,110,100,222,3,1,5,0,163,164,2,0,3,11,8,1,106,3,0,198,110,100,111,3,11,6,0,165,166,2,0,11,11,2,1,106,3,1,106,111,3,11,10,0,2,11,6,0,5,11,106,3,11,106,111,3,11,7,1,106,2,1,2,11,102,109,102,109,102,109,111,4,0,106,100,2,11,106,111,3,11,7,0,106,2,0,2,11,106,5,1,111,100,2,5,100,106,100,2,11,106,111,4,11,105,5,0,106,2,9,2,11,106,7,0,3,11,106,3,11,106,111,4,11,105,198,3,0,106,3,1,2,11,106,10,0,106,2,0,111,106,111,5,11,4,1,106,4,11,100,106,162,4,0,118,100,2,3,100,106,2,0,111,106,111,2,11,7,0,106,100,3,11,108,106,100,198,3,0,119,100,2,4,100,106,2,0,111,106,111,2,11,7,0,106,100,3,11,4,1,106,7,1,106,2,0,111,106,111,7,11,107,102,106,2,0,6,11,106,7,11,106,100,108,111,106,111,7,11,2,1,106,2,0,6,11,106,7,11,3,1,111,106,111,3,11,3,0,3,11,2,1,106,4,11,2,0,106,2,0,9,11,106,111,2,11,6,0,111,2,0,106,6,0,106,2,0,111,5,0,3,11,106,111,100,110,118,5,0,110,2,0,106,3,0,198,2,0,106,100,2,11,8,0,106,111,100,110,119,109,108,198,108,109,110,2,0,106,8,1,111,2,0,118,6,0,106,100,12,1,9,11,2,0,119,109,108,109,198,2,0,106,199,21,11,11,1,255,32,11,7,11,8,0,2,11,6,0,110,118,100,118,110,3,0,111,7,11,2,0,108,109,102,109,108,100,2,11,108,109,108,109,108,198,110,119,100,119,110,108,109,108,111,7,11,101,106,6,1,2,11,8,1,106,5,1,222,161,100,161,100,161,2,11,106,10,11,4,0,110,118,106,118,110,3,0,222,3,0,118,100,2,11,106,3,0,3,11,3,0,111,102,109,108,100,110,119,106,119,110,100,109,102,222,3,0,119,198,2,11,106,2,0,118,100,2,10,3,0,111,6,1,106,5,1,222,106,4,1,2,11,106,2,5,119,100,2,10,2,0,102,2,11,3,0,110,118,106,118,110,3,0,222,106,7,11,4,1,106,3,1,106,2,11,102,109,198,110,119,106,119,110,198,100,107,222,106,2,11,100,163,164,100,5,11,106,3,11,106,2,11,5,1,106,3,1,106,101,222,106,3,0,165,166,3,0,3,11,106,3,11,106,7,11,106,3,11,106,2,11,111,106,4,0,198,6,0,106,111,2,0,106,2,0,5,11,106,3,11,106,2,11,111,106,100,106,3,1,106,5,0,106,111,105,100,106,7,0,106,3,11,106,2,11,111,106,100,106,3,11,106,108,109,102,109,108,106,111,105,100,106,108,109,108,109,108,2,0,106,3,11,106,2,11,111,3,1,3,11,6,1,106,111,11,1,3,11,106,2,11,13,11,106,15,11,106,2,11,13,11,106,15,11,106,2,11,100,161,2,0,161,2,0,161,2,0,161,100,111,106,2,11,100,161,2,0,161,2,0,161,2,0,161,100,111,106,111,100,197,100,169,170,100,169,170,100,169,170,100,118,110,106,2,11,100,118,6,0,2,5,3,0,2,10,100,2,0,171,172,100,171,172,100,171,172,100,119,110,106,2,11,100,119,3,0,198,100,4,5,2,0,2,10,199,14,1,2,11,16,1,255,32,11,4,11,8,0,5,11,4,0,2,11,3,0,4,11,2,0,2,11,9,0,118,110,7,0,118,110,4,0,3,11,3,0,2,11,2,0,198,108,109,108,109,108,100,119,110,4,0,198,2,0,119,110,3,0,4,11,100,198,199,2,11,101,106,9,1,3,0,3,1,106,3,1,106,101,4,11,106,2,1,3,11,106,9,11,6,0,106,3,11,106,5,11,106,2,11,3,11,106,111,5,0,2,11,2,0,163,164,3,0,106,3,11,106,5,11,106,2,11,111,2,0,106,111,100,118,3,0,2,11,118,100,165,166,3,0,106,3,11,106,5,11,106,2,11,111,2,8,106,111,198,119,100,108,105,2,11,119,4,0,108,109,106,2,11,100,106,3,0,2,11,106,2,11,111,106,2,1,111,2,1,106,2,1,2,11,2,1,3,0,3,1,111,2,0,106,4,0,111,106,2,11,111,106,3,11,2,0,106,2,0,3,11,6,0,2,11,2,0,106,100,118,2,0,111,106,2,11,111,106,3,11,2,0,106,4,0,2,11,5,0,3,11,108,106,100,119,198,2,11,106,2,11,111,106,2,0,110,2,0,106,5,0,2,11,3,0,5,11,106,5,11,106,100,222,106,2,9,110,105,100,106,100,102,109,108,107,10,11,106,4,11,100,106,100,222,6,1,106,5,1,9,11,100,106,100,3,11,100,106,100,111,6,11,100,106,2,0,5,11,3,0,3,11,2,0,106,2,0,2,11,108,106,100,111,3,11,4,0,106,100,2,5,3,11,9,0,106,3,0,2,11,106,100,111,7,0,106,100,2,5,3,11,2,0,2,67,100,2,3,2,0,106,4,0,110,106,100,111,197,3,0,106,6,1,4,11,102,2,68,198,2,4,2,0,106,100,3,9,110,106,102,111,4,0,106,10,11,16,1,111,5,1,27,11,255,32,11,100,161,2,0,161,2,0,161,3,0,111,3,0,5,11,2,0,111,6,0,3,11,197,100,169,170,100,169,170,100,162,100,118,110,6,0,2,11,100,118,110,100,118,100,118,2,0,3,11,100,109,171,172,109,171,172,109,2,0,119,110,100,198,105,108,109,107,2,11,100,119,110,100,119,198,119,198,100,3,11,8,1,106,9,1,2,11,106,8,1,3,11,8,11,106,11,11,106,11,11,4,11,4,0,106,118,110,100,8,11,106,111,3,0,7,11,3,11,2,0,102,109,102,106,119,110,4,0,5,11,106,100,163,164,2,0,6,11,2,11,2,0,106,6,1,105,4,0,4,11,106,100,165,166,100,162,2,0,3,10,100,2,11,2,0,106,6,11,2,5,100,162,100,4,11,106,2,0,109,108,109,108,109,3,10,199,2,11,2,0,106,4,0,2,11,2,5,198,2,0,4,11,3,1,106,8,1,2,11,109,102,106,100,162,2,0,2,11,5,1,6,11,100,106,100,7,11,2,11,3,1,4,0,12,11,2,0,106,2,0,6,11,5,11,3,1,100,5,11,5,0,2,11,2,0,106,2,0,6,11,8,11,100,3,11,7,0,3,11,100,106,100,3,11,2,0,2,11,8,11,100,2,11,4,0,198,2,0,5,11,106,3,11,4,0,222,3,0,3,11,3,0,111,100,106,4,1,106,111,2,0,2,11,106,2,11,5,0,222,5,0,110,118,100,118,110,100,106,111,3,0,106,2,0,118,110,100,106,4,0,118,2,0,222,108,109,198,109,108,110,119,100,119,110,100,106,111,108,109,108,106,2,0,119,110,100,106,102,109,102,109,119,109,102,222,12,1,111,17,1,111,32,11,255,32,11,2,11,100,161,100,161,100,161,100,9,11,100,161,100,161,100,159,160,100,161,100,161,118,110,100,2,11,105,5,0,198,2,11,4,0,3,11,9,0,198,100,119,110,107,2,11,2,1,106,2,1,106,101,111,6,0,2,11,106,13,1,4,11,106,2,11,106,2,11,2,0,163,164,2,0,2,11,106,13,11,4,11,106,111,100,106,2,0,162,100,165,166,4,0,106,100,6,11,5,0,111,4,11,106,111,108,106,2,0,109,108,109,108,109,108,198,100,106,102,4,11,4,0,2,9,2,0,4,11,106,111,14,1,4,11,3,0,106,2,1,106,100,197,3,0,106,18,11,2,0,2,9,106,2,0,106,100,100,157,158,100,106,9,11,3,0,6,11,2,0,3,1,2,0,106,100,5,1,8,11,5,0,5,11,7,0,106,100,11,11,11,0,111,6,0,106,2,1,9,11,13,0,110,100,162,2,0,118,100,106,2,0,8,11,5,0,108,109,108,109,198,109,108,109,108,110,4,0,119,100,106,2,0,5,11,5,0,13,1,3,0,4,1,2,0,100,111,8,0,12,11,10,0,100,110,118,100,162,100,2,5,2,0,110,2,0,9,11,9,0,111,100,110,119,100,198,4,5,100,110,2,0,110,2,0,7,11,8,0,111,11,1,100,198,110,100,162,7,11,7,0,2,11,11,11,4,1,100,8,11,100,157,158,100,4,11,15,11,199,16,11,255,15,11,197,16,11,111,161,2,0,161,2,0,161,100,111,4,0,111,100,111,4,0,111,2,0,161,2,0,161,2,0,161,222,100,169,170,100,169,170,2,0,110,118,3,0,110,118,110,3,0,118,110,3,0,169,170,100,169,170,100,222,108,171,172,108,171,172,108,100,110,119,100,198,100,110,119,110,100,198,100,119,110,2,0,108,171,172,108,171,172,108,222,7,1,106,13,1,106,8,1,111,7,11,100,106,100,11,11,100,106,100,8,11,111,5,0,111,102,106,109,111,100,118,7,0,111,109,106,102,111,6,0,222,2,0,198,2,0,2,11,106,2,11,100,119,109,108,109,108,109,107,109,2,11,106,2,11,3,0,198,2,0,222,106,3,11,108,2,11,106,6,11,106,6,11,106,2,11,108,4,11,106,222,106,3,11,109,111,100,106,6,0,106,111,5,0,106,100,111,109,4,11,106,222,106,3,11,108,111,100,106,6,0,106,111,108,109,108,109,108,106,100,111,108,4,11,106,222,106,3,11,109,2,11,106,13,11,106,2,11,109,4,11,106,222,106,6,0,106,111,11,0,111,106,7,0,106,222,106,6,0,106,111,2,0,163,164,3,0,163,164,2,0,111,106,7,0,106,222,8,1,111,2,0,165,166,100,162,100,165,166,2,0,111,9,1,111,10,11,9,0,162,100,11,11,12,11,100,19,11,11,0,110,118,5,0,118,110,12,0,100,4,9,100,198,4,0,110,119,5,0,119,110,5,0,198,100,4,9,199,32,1,32,11,255,16,11,100,15,11,111,10,0,5,11,199,15,11,111,2,0,108,109,108,109,107,3,0,5,11,106,111,4,0,2,11,100,161,100,161,100,161,100,222,106,8,1,100,5,11,106,111,4,0,110,118,6,0,118,222,106,6,11,4,0,161,100,2,11,106,111,3,0,198,110,119,2,0,198,3,0,119,222,106,6,11,5,9,100,2,11,106,2,11,109,111,9,1,106,222,106,11,11,100,2,11,106,2,11,108,10,11,106,222,106,2,11,3,0,6,11,2,0,111,106,2,11,109,10,11,106,222,106,3,0,163,164,111,100,161,100,161,3,0,111,106,2,11,108,10,11,106,222,106,100,118,100,165,166,110,118,9,0,110,2,0,9,11,106,222,106,100,119,100,198,100,110,119,100,108,109,108,109,108,109,108,100,110,11,0,106,222,8,1,106,9,1,11,0,106,111,9,11,106,6,11,106,2,11,7,1,106,4,1,111,9,11,106,3,11,100,161,100,106,8,11,100,106,2,0,3,11,9,11,106,111,5,0,106,2,11,5,0,110,118,106,3,0,2,11,9,11,106,111,4,0,108,106,2,11,102,109,102,109,198,110,119,106,3,0,2,11,4,0,111,100,161,100,161,106,3,11,2,0,109,106,8,11,4,1,106,2,11,197,100,162,118,110,4,0,106,4,11,100,108,106,11,11,100,106,111,100,3,0,119,110,3,0,198,106,3,11,2,0,109,106,2,0,2,5,5,0,110,118,100,106,110,100,10,1,3,11,2,0,108,106,100,4,5,100,198,2,0,110,119,100,106,110,100,13,11,19,1,255,32,11,6,11,2,0,161,2,0,161,2,0,3,11,11,0,118,3,0,5,11,100,169,170,100,169,170,100,169,170,5,0,108,109,108,109,108,109,108,198,100,119,2,0,199,5,11,100,171,172,100,171,172,100,171,172,3,0,106,14,1,5,11,12,1,106,14,11,10,11,6,0,162,106,100,5,11,7,0,222,161,100,161,100,161,2,0,111,8,0,106,2,0,3,11,5,0,162,3,0,111,100,118,4,0,118,110,2,0,2,3,100,118,2,0,106,100,107,3,11,7,0,169,170,111,100,119,4,0,119,110,2,0,2,4,100,119,198,100,106,6,11,5,0,109,171,172,111,4,1,106,12,1,7,11,108,109,107,4,11,5,11,106,24,11,2,0,3,0,2,11,106,13,11,4,0,6,11,3,0,4,0,111,106,111,100,161,100,161,100,161,100,111,5,0,163,164,5,0,4,11,100,2,0,3,11,106,8,0,110,118,4,0,165,166,5,0,110,118,100,111,100,5,11,106,100,109,108,109,198,3,0,110,119,2,0,198,108,109,108,109,108,109,108,100,110,119,100,2,11,111,3,0,111,24,1,106,2,11,111,3,0,25,11,106,2,11,111,6,0,22,11,106,2,11,111,100,2,67,14,0,162,2,0,105,7,0,106,2,11,2,11,2,68,157,158,100,198,3,0,162,108,2,9,108,197,2,0,109,3,5,109,198,100,108,109,108,106,2,11,2,11,14,1,106,13,1,2,11,255,32,11,197,3,0,118,110,100,161,100,161,100,161,100,161,100,161,100,161,100,161,100,161,100,161,100,118,110,4,0,111,4,0,119,110,6,0,198,100,108,109,108,109,108,109,108,4,0,119,110,4,0,111,29,1,100,2,11,28,11,2,0,2,11,111,4,0,5,11,2,0,110,118,3,0,110,100,8,11,3,0,2,11,111,102,109,102,198,100,4,11,2,0,110,119,100,107,100,110,4,0,5,11,3,0,2,11,111,3,1,106,2,0,2,11,3,0,6,1,7,0,2,11,3,0,2,11,4,11,106,100,118,100,118,100,118,2,0,4,11,2,0,118,100,162,4,0,111,3,0,2,11,4,11,106,100,119,100,119,100,119,2,0,4,11,100,198,119,2,0,163,164,2,0,111,3,0,2,11,4,11,9,1,3,11,100,106,3,1,100,165,166,2,0,111,3,0,2,11,16,11,100,106,8,0,110,118,2,0,2,11,2,11,7,0,7,11,100,106,100,108,109,108,198,108,109,108,110,119,2,0,2,11,111,10,0,5,11,13,1,100,2,11,111,3,0,105,5,0,157,18,11,100,2,11,2,11,158,3,5,2,0,198,100,3,11,2,0,13,11,100,162,100,111,13,11,4,0,4,11,3,0,3,11,4,0,111,3,11,6,0,3,11,105,2,0,118,2,0,2,11,4,0,2,11,100,162,4,0,2,11,3,0,118,3,0,105,2,11,2,5,100,119,100,2,11,198,2,0,2,5,100,111,158,3,0,162,100,3,11,2,0,119,2,0,2,5,9,11,2,0,3,5,100,7,11,24,11,199,7,11,255,24,11,197,7,11,5,11,100,161,100,161,8,11,161,100,161,100,111,4,0,162,4,0,111,3,11,100,161,5,0,5,11,161,5,0,110,118,8,0,111,3,11,3,0,163,164,2,0,161,3,11,7,0,110,119,2,0,108,109,108,109,108,109,111,2,11,161,3,0,165,166,4,0,3,11,100,162,2,0,12,1,111,2,11,12,0,111,5,0,12,11,111,2,0,169,170,100,169,170,100,169,170,100,118,100,2,11,4,0,5,11,6,0,222,2,9,171,172,198,171,172,108,171,172,198,119,100,2,11,105,100,162,2,0,2,11,3,0,108,109,108,109,108,222,106,12,1,2,11,2,5,7,0,106,4,1,106,222,106,16,11,2,9,5,0,106,3,0,111,106,222,106,110,118,100,2,11,100,111,8,0,2,11,2,5,2,9,198,100,106,2,9,2,11,106,222,106,110,119,109,111,4,0,2,11,5,0,13,11,106,222,3,1,106,111,2,0,10,11,161,100,161,9,11,106,222,100,118,110,106,111,100,2,11,6,0,111,161,5,0,161,111,5,0,111,106,222,109,119,110,106,3,11,100,162,100,3,3,100,110,7,0,110,118,4,0,111,106,222,106,3,1,3,11,2,0,107,3,4,100,110,2,0,198,4,0,110,119,3,0,2,11,106,222,106,6,11,100,3,1,106,6,1,3,0,3,1,106,2,1,2,11,106,222,106,5,11,2,0,111,2,0,106,2,0,2,11,6,0,2,11,106,3,11,100,106,222,106,3,0,162,110,118,100,111,102,109,106,102,109,3,11,100,2,67,100,118,100,111,106,2,0,110,118,106,222,106,109,198,2,9,110,119,100,7,11,100,2,11,2,68,100,119,100,111,106,100,198,110,119,106,111,11,11,5,0,199,100,7,11,6,1,111,255,16,11,197,15,11,2,11,4,0,2,11,2,0,111,4,0,111,100,111,3,0,159,111,2,0,2,11,3,0,2,11,111,160,100,163,164,2,0,111,100,118,110,2,0,162,118,110,118,110,4,0,110,118,100,111,5,0,222,2,0,165,166,2,0,111,100,119,110,198,2,0,119,110,119,110,100,198,2,0,110,119,100,111,100,162,3,0,222,2,0,198,3,0,111,106,15,1,106,111,2,0,198,2,0,222,106,4,1,106,111,106,111,13,0,111,106,111,106,3,1,106,222,106,4,11,106,111,106,111,13,0,111,106,111,106,3,11,106,222,106,4,11,106,111,106,111,100,108,109,108,109,108,109,108,109,108,109,108,100,111,106,111,106,3,11,106,222,106,4,11,106,111,106,111,6,1,106,6,1,111,106,111,106,3,11,106,222,106,4,11,106,111,106,7,11,106,7,11,106,111,106,3,11,106,222,106,4,11,106,100,106,7,11,106,7,11,106,100,106,3,11,106,222,106,4,11,106,100,106,4,11,100,2,11,106,2,11,100,4,11,106,100,106,3,11,106,222,106,4,11,3,1,3,11,3,0,111,106,111,3,0,3,11,3,1,3,11,106,222,106,10,11,3,0,111,106,111,3,0,9,11,106,222,106,111,7,0,111,4,0,111,106,111,4,0,111,160,5,0,111,106,222,106,110,118,100,162,4,0,110,118,3,0,111,106,111,100,162,100,118,110,5,0,118,110,106,222,106,110,119,4,0,198,100,110,119,100,157,2,11,106,2,11,2,0,119,110,2,0,198,2,0,119,110,106,222,11,1,106,3,11,106,3,11,106,10,1,111,12,11,106,3,0,106,3,0,106,11,11,12,11,106,102,109,102,106,102,109,102,106,11,11,12,11,9,1,11,11,255,2,11,105,6,0,3,5,100,162,100,17,11,2,11,2,5,102,109,107,109,5,5,2,0,110,118,110,161,100,161,100,161,100,161,100,161,100,161,100,161,100,4,11,106,9,11,162,110,119,110,100,105,100,105,100,105,100,105,100,105,100,105,100,199,4,11,106,7,0,20,11,4,11,106,102,109,102,109,102,109,100,5,11,6,0,111,7,0,111,11,11,106,100,110,118,8,0,110,118,6,0,111,4,11,100,161,100,4,11,106,100,110,119,109,108,109,198,109,108,109,100,110,119,109,108,109,108,109,198,111,2,11,100,161,3,0,161,100,161,17,11,106,4,11,2,11,2,0,163,164,5,0,111,4,0,11,11,106,4,11,2,11,2,0,165,166,100,169,170,100,118,110,2,0,162,100,110,100,2,11,160,100,111,4,0,106,4,11,3,11,100,198,2,0,171,172,100,119,110,198,3,0,110,100,111,2,0,118,110,3,0,105,106,4,11,6,11,106,10,1,106,111,108,100,119,110,198,157,2,5,106,4,11,6,11,106,7,0,3,11,106,3,11,106,10,11,5,11,100,106,108,109,108,109,108,100,107,3,11,106,3,11,106,10,11,3,0,111,2,0,6,1,106,3,11,100,106,3,11,106,10,11,197,100,118,110,8,0,106,3,11,100,106,3,11,106,2,11,100,159,160,3,0,2,11,2,0,119,110,109,102,109,102,109,3,0,106,2,11,105,108,106,100,2,11,106,111,7,0,2,11,9,1,106,3,1,2,11,2,5,106,3,0,106,169,170,3,67,4,0,111,5,11,118,2,0,105,106,5,11,2,5,106,198,157,158,106,171,172,3,68,108,109,108,157,111,5,11,119,100,2,5,106,5,11,16,1,111,32,11,255,32,11,197,118,110,2,0,159,167,25,11,100,119,110,3,9,168,9,11,161,100,161,100,161,100,161,100,161,100,6,11,6,1,2,67,7,11,11,0,161,100,161,100,2,11,6,11,2,68,111,2,0,111,100,198,161,2,0,198,5,0,198,4,0,198,2,0,111,2,11,2,0,159,3,67,160,2,0,110,100,169,170,100,169,170,100,169,170,100,169,170,100,169,170,100,169,170,105,111,2,11,108,109,108,3,68,108,109,108,110,109,171,172,108,171,172,109,171,172,108,171,172,109,171,172,108,171,172,105,111,2,11,106,27,1,106,111,2,11,106,27,11,106,111,2,11,106,100,111,3,0,2,11,4,0,110,118,7,0,2,11,3,0,110,118,106,222,198,106,118,110,118,2,0,111,2,5,100,2,11,110,119,4,9,3,0,111,4,0,110,119,106,222,105,106,119,110,119,2,0,111,3,5,2,11,7,1,106,101,2,11,2,0,102,3,1,222,7,1,13,11,106,4,11,100,109,4,11,111,106,3,0,162,100,106,4,11,100,161,100,161,100,161,3,11,106,100,111,3,0,108,105,3,11,111,106,5,0,106,2,11,6,0,162,2,0,2,11,106,100,110,118,2,0,2,5,3,11,111,106,5,0,106,111,4,0,162,163,164,4,0,111,106,100,110,119,2,8,2,5,3,11,111,7,0,111,5,0,165,166,4,0,111,8,1,3,11,111,100,162,3,0,2,5,2,11,5,0,162,3,0,11,11,2,0,2,11,100,198,100,2,5,4,11,109,108,109,108,109,108,109,108,111,8,0,118,110,2,0,20,11,109,105,109,105,109,105,109,100,119,110,100,199,20,11,12,1,255,32,11,8,11,160,7,0,110,100,110,100,105,7,0,118,110,100,111,10,11,157,158,2,0,162,100,110,100,110,2,5,100,109,108,109,108,109,100,119,110,100,111,13,11,3,5,111,106,12,1,100,111,5,11,161,100,161,100,161,2,0,5,11,106,12,11,100,111,4,11,100,163,164,3,0,2,5,100,4,11,106,11,11,2,0,222,2,0,111,100,165,166,2,0,4,5,2,0,111,100,106,8,11,2,0,110,118,100,222,100,118,110,4,0,5,67,100,118,110,100,106,6,11,4,0,110,119,100,222,100,119,110,109,108,109,108,5,68,102,119,110,100,106,3,0,2,11,5,0,4,11,111,106,15,1,106,100,118,100,2,11,3,0,6,11,111,106,11,11,4,0,106,109,119,109,111,2,0,8,11,111,106,161,100,161,100,161,100,161,111,2,0,111,100,118,2,0,106,3,1,111,100,118,110,2,0,5,11,111,106,100,169,170,100,169,170,100,110,118,100,111,109,119,109,108,106,3,0,111,100,119,110,4,0,3,11,111,106,108,171,172,108,171,172,108,110,119,198,111,4,1,106,100,118,100,5,11,4,0,2,11,111,10,1,106,111,4,0,106,108,119,109,6,11,3,0,2,11,11,11,106,111,100,118,2,0,106,3,1,7,11,2,0,2,11,11,11,106,111,108,119,109,102,106,10,11,2,0,2,11,9,0,111,100,106,111,4,1,106,5,0,3,11,100,110,118,100,2,11,197,2,0,162,4,0,118,110,100,106,2,11,5,0,162,100,105,100,111,118,2,0,110,119,100,2,11,100,7,9,119,110,107,106,2,11,2,0,162,3,0,2,5,2,11,119,2,0,5,11,12,1,20,11,255,7,11,7,0,18,11,6,11,100,109,108,109,108,109,102,2,0,118,110,4,0,8,11,3,0,2,11,5,0,106,5,11,109,102,119,110,100,198,3,0,118,110,100,4,11,100,108,199,111,100,108,109,108,109,108,106,12,11,2,0,119,110,109,100,2,11,100,106,2,1,13,11,6,0,5,11,105,100,2,11,109,106,2,11,100,161,100,161,100,161,100,161,100,161,100,111,3,0,163,164,4,0,4,11,2,0,111,101,106,100,111,197,9,0,118,110,3,0,165,166,4,0,3,11,3,0,2,11,106,108,111,100,108,109,108,109,108,109,108,109,108,119,110,198,4,0,3,9,100,3,11,100,109,105,111,100,106,101,111,3,1,106,9,1,4,0,4,1,2,11,2,0,2,5,111,109,106,2,11,3,11,106,6,11,7,0,6,11,2,0,3,11,101,106,100,111,3,11,106,5,11,6,0,162,100,6,11,105,3,0,2,11,106,108,111,3,11,106,7,11,7,0,5,11,105,108,2,0,111,100,106,101,111,3,11,106,8,11,6,0,111,3,0,3,11,100,105,111,109,106,2,11,3,11,106,3,11,118,111,3,0,162,4,0,118,110,100,118,2,0,111,2,0,2,11,101,106,100,111,3,11,106,3,11,119,111,198,6,0,198,119,110,109,119,108,109,111,2,0,3,11,106,108,111,3,11,106,3,11,106,2,11,198,5,0,106,6,1,111,105,2,0,111,100,106,101,111,3,11,106,3,11,106,3,11,5,9,106,8,11,2,0,111,109,106,2,11,111,198,5,0,106,3,11,6,1,2,11,7,0,2,11,101,106,2,11,111,109,108,109,108,109,108,109,10,11,7,0,118,110,2,0,106,2,11,111,7,1,10,11,109,108,109,108,109,105,100,119,110,107,100,106,2,11,32,11,255,32,11,197,10,0,111,3,0,4,11,105,2,0,118,110,8,0,100,107,109,108,109,108,109,108,109,100,118,110,4,0,3,11,2,5,100,119,110,109,3,5,108,109,108,199,9,1,100,119,110,100,163,164,100,3,11,2,1,106,10,1,9,11,3,1,100,165,166,2,0,4,11,106,10,11,3,11,5,0,3,11,198,5,0,4,11,106,10,11,111,100,110,118,2,0,198,3,0,111,105,5,0,3,11,100,106,5,0,111,2,0,2,11,111,100,110,119,198,2,5,102,198,100,111,105,2,98,2,0,105,2,11,105,100,106,5,0,110,118,100,2,11,111,100,7,1,106,111,3,1,106,2,1,2,11,2,5,106,109,3,5,109,110,119,100,2,11,111,100,7,11,106,4,11,106,4,11,10,1,106,2,11,111,100,161,6,11,106,2,0,110,118,106,14,11,106,2,11,111,2,0,161,5,11,106,100,102,110,119,106,3,11,100,161,2,0,161,100,5,11,106,2,11,111,3,0,161,100,3,11,6,1,2,11,161,6,0,161,4,11,106,2,11,111,6,0,111,8,0,111,8,0,111,3,0,106,2,11,111,7,0,118,6,0,118,110,169,170,167,169,170,167,169,170,110,100,162,100,106,2,11,111,100,108,109,108,109,108,100,119,6,0,119,110,171,172,168,171,172,168,171,172,110,3,0,106,2,11,111,8,1,2,0,162,2,0,3,1,106,12,1,2,11,9,11,5,0,2,11,100,106,10,0,105,3,11,8,11,5,0,105,2,11,105,106,6,0,118,2,3,100,105,3,11,9,11,2,5,100,2,5,2,11,105,106,108,109,108,109,108,109,119,2,4,2,5,3,11,32,11,255,14,11,4,0,14,11,197,2,0,118,110,100,161,3,0,161,2,0,111,4,0,111,161,2,0,105,3,0,161,100,110,118,100,111,3,0,119,110,2,0,198,100,2,5,2,0,111,4,0,111,2,0,3,5,4,0,110,119,100,111,12,1,106,111,4,0,111,106,10,1,106,111,2,11,2,0,161,4,0,161,2,0,106,111,4,0,111,106,161,100,161,100,161,2,0,110,100,111,106,111,2,11,3,0,105,6,0,106,111,4,0,111,106,100,2,5,3,0,118,110,100,111,106,111,2,11,3,0,2,5,198,4,0,106,111,4,0,111,106,4,5,2,0,119,110,100,111,106,111,2,11,106,10,1,111,4,0,111,9,1,106,111,106,111,2,11,106,100,161,4,0,161,100,3,11,4,0,3,11,100,161,100,161,100,110,100,106,111,106,111,2,11,106,8,0,3,11,4,0,3,11,5,0,110,118,106,111,106,111,2,11,106,100,2,5,198,100,105,2,0,3,11,4,0,3,11,5,0,110,119,106,111,106,111,2,11,8,1,106,3,11,4,0,3,11,106,7,1,111,106,111,3,11,100,161,3,0,161,100,106,3,11,4,0,3,11,106,8,11,106,111,3,11,7,0,106,3,11,4,0,3,11,106,3,11,5,0,106,111,3,11,2,0,2,5,100,198,100,106,3,11,100,173,174,100,111,2,0,106,3,11,5,0,106,111,3,11,106,7,1,3,11,100,175,176,100,110,118,100,106,3,11,109,108,109,108,109,106,111,3,11,106,100,161,2,0,161,2,0,161,100,111,100,177,178,100,110,119,100,106,8,11,106,111,3,11,106,9,0,10,11,7,0,106,111,3,11,106,2,0,198,2,0,105,5,0,118,110,8,0,3,5,2,0,106,111,3,11,9,1,106,198,100,119,110,100,3,5,2,0,106,7,1,111,12,11,12,1,8,11}

function CanDraw(x as ubyte, y as ubyte) as ubyte
	if y>20 or x>31 then return 0
	return 1
end function

sub DrawUI1(lives as ubyte, ammo as ubyte, grenade as ubyte, shield as ubyte, frags as ubyte, mapnumber as ubyte)
	flash 0
	localMapNumber=mapnumber
	dim i as ubyte = 16
	dim j as ubyte = 22
	paper 0
	Achievement()
	if achSFS = 2 then print at j,i; ink 5; "\B": i=i+2
	if achFB = 2 then print at j,i; ink 2; "\A": i=i+2
	if achBB = 2 then print at j,i; ink 4; "\D": i=i+2
	
	print at j,30; ink 4; "\E"
	
	Environment()
	paper 0
	print at j,0; ink 6; "\G"
	print at j,3; ink 5; "\H"
	print at j,6; ink 4; "\I"
    print at j,9; ink 4; "\J"
	
	print at j,26; ink 5; "\H"
	print at j,28; ink 4; "\I"

	print at 21,26; " "
	print at 21,28; " "
	
	print at 21,26+Grenades*2; ink 5; "\P"
	
	AlienDies()
	print at j,12; ink 3; "\A"
	
	ink 7
	printat64(j,2)
	if lives<10 then 
		print64("0"+STR(lives))
	else
		print64(STR(lives))
	end if 
	printat64(j,8)
	if ammo<10 then 
		print64("0"+STR(ammo))
	else
		print64(STR(ammo))
	end if 
	printat64(j,14)
	if grenade<10 then 
		print64("0"+STR(grenade))
	else
		print64(STR(grenade))
	end if 
	printat64(j,20)
	if shield<10 then 
		print64("0"+STR(shield))
	else
		print64(STR(shield))
	end if 
	printat64(j,26)
	if frags<10 then 
		print64("0"+STR(frags))
	else
		print64(STR(frags))
	end if 
	'if frags=25 and achHH = 0 then achHH = 1
	ink 7
	printat64(j,62): print64(STR(localMapNumber))
	
end sub

function CanHit1(x1 as ubyte, y1 as ubyte, x2 as ubyte) as ubyte
	dim i as ubyte
	for i=x1 to x2
		itemp=map(y1,i)
		if itemp=11 or itemp=10 or itemp=1 then return 0
	next i
	return 1
end function

sub CopyLevels(mapNumber as ubyte)
	localMapNumber=mapNumber
	paper 0
	cls
	dim x as ubyte
	dim y as ubyte
	dim pos as ubyte
	x=0
	y=0
	dim mapcounter as ubyte = 1
	dim i as uinteger
	if cutscene=0 then print at 10,12; ink 4; "STAGE "+str(localMapNumber)
	dim value as ubyte
	for i=0 to ubound(vector,1)
		value = vector(i)
		if value=255 then mapcounter=mapcounter+1: goto skip
		if mapNumber=mapcounter then
			if value>99 and value<200 then
				map(y,x) = value-100
				x=x+1
				if x>31 then x = 0: y=y+1
				goto skip
			end if
			if value=222 then
				map(y,x) = 11
				x=x+1
				if y=20 and x=31 then exit for
				if x>31 then x = 0: y=y+1
				map(y,x) = 11
				x=x+1
				if y=20 and x=31 then exit for
				if x>31 then x = 0: y=y+1
				goto skip
			end if
			if value<100
				for pos=1 to value
					map(y,x) = vector(i+1)
					'if map(y,x) = 0 then
					''	if Int(rnd*7) = 5 then map(y,x) = 5
					'end if
					x=x+1
					if x>31 then x = 0: y=y+1
				next
				i=i+1
			end if
			:skip
			if y=20 and x=31 then exit for
		end if
	next

	dim temp as ubyte
	for x=0 to 31
		for y=0 to 20
			temp=map(y,x)
			if temp = 1 and y<20 then
				if map(y+1,x)=0 then
					temp=rnd*4
					if temp=0 then temp=55
					if temp=1 then temp=56
					if temp>4 then map(y+1,x)=temp
				end if 
			end if 
			if temp = 11
			 	if y<20 then
					if map(y+1,x)=0 then
						temp=rnd*5
						if temp=0 then temp=52
						if temp=1 then temp=53
						if temp=2 then temp=54
						if temp=3 then temp=55
						if temp=4 then temp=56
						map(y+1,x)=temp
					end if 
				end if 
				if x>0 then 
					if map(y,x-1)=0 then 
						temp=rnd*4
						if temp=0 then temp=28
						if temp=1 then temp=29
						if temp=2 then temp=30
						if temp=3 then temp=31
						map(y,x-1)=temp
					end if 
				end if 
				if x<32 then 
					if map(y,x+1)=0 then 
						temp=rnd*4
						if temp=0 then temp=25
						if temp=1 then temp=26
						if temp=2 then temp=27
						if temp=3 then temp=32
						map(y,x+1)=temp
					end if 
				end if 
			end if 
			'if temp = 5 and map(y,x+1) = 0 then map(y,x+1)=53
			'if y<20 then
			''	if temp = 11 and map(y+1,x) = 0 then 
			''		temp=rnd*6
			''		if temp=0 then temp=54
			''		if temp=1 then temp=55
			''		if temp=2 then temp=56
			''		if temp>53 then map(y+1,x)=temp
			''	end if 
			'end if 
		next
	next
	if cutscene=0 then print at 10,12; ink 4; "GET READY"
end sub

sub DrawLevel1(mapNumber as ubyte)
	CopyLevels(mapNumber)
end sub

sub RedrawArea1(x as ubyte, y as ubyte)
	if CanDraw(x,y)=0 then return
	bright 0
	dim paperv as ubyte
	paper 0
	paperv=0
	dim inkv as ubyte
	Environment()
	inkv=3
	sprite1="X"
    dim currentChar as ubyte = map(y,x)
	if currentChar = 1 then
		inkv=4: sprite1="\C" ' Floor
	end if
	if currentChar = 2 then
		inkv=4: sprite1="\I" ' Grenade
	end if
	if currentChar = 6 then
		inkv=5: sprite1="\F" ' Stairs
	end if
    if currentChar=7 then
        inkv=6: sprite1="\G" ' Life
    end if
    if currentChar=8 then
        inkv=4: sprite1="\J" ' Shield
    end if
	if currentChar=9 then
        inkv=5: sprite1="\H" ' Ammo
    end if
	if currentChar=10 then
        inkv=7: sprite1="\A" ' Door
    end if
	if currentChar=11 then
        inkv=1: sprite1="\K" ' Flat
    end if
	if currentChar=12 then
		inkv=7: sprite1="\L" ' DeadRight1
	end if
	if currentChar=13 then
		inkv=7: sprite1="\M" ' DeadRight2
	end if
	if currentChar=14 then
		inkv=7: sprite1="\N" ' DeadLeft1
	end if
	if currentChar=15 then
		inkv=7: sprite1="\O" ' DeadLeft2
	end if
	'if currentChar=17 then
	''	paperv=2: inkv=6: sprite1="\Q" ' Lava
	'end if
	if currentChar=18 then
		paperv=5: inkv=7: sprite1="\R" ' Terminal
	end if
	if currentChar=19 then
		inkv=7: sprite1="\S" ' Terminal2
	end if
	if currentChar=20 then
		paperv=0: inkv=7: sprite1="\R" ' Inactive Terminal
	end if
	if currentChar=88 then
		inkv=7: sprite1="\I" ' Scull
	end if
	if currentChar=67 then
		inkv=5: sprite1="\B" ' capsule
	end if
	if currentChar=68 then
		inkv=5: sprite1="\E" ' capsule
	end if
	if currentChar = 0 or currentChar = 99 or currentChar = 77 then
		sprite1=" "
	end if
	if (currentChar > 51 and currentChar<73) and currentChar<>67 and currentChar<>68 or currentChar=3 then
		Environment3()
		inkv=1
		if currentChar = 52 then sprite1="\A"
		if currentChar = 53 then sprite1="\B"
		if currentChar = 54 then sprite1="\C"
		if currentChar = 55 then inkv=4: sprite1="\D"
		if currentChar = 56 then inkv=4: sprite1="\E"

		if currentChar = 57 then inkv=3: sprite1="\P" 'border
		if currentChar = 58 then inkv=3: sprite1="\O" 'border
		if currentChar = 59 then inkv=3: sprite1="\Q" 'border
		if currentChar = 60 then inkv=3: sprite1="\N" 'border
		if currentChar = 61 then inkv=2: sprite1="\R" 'lamp
		if currentChar = 62 then inkv=2: sprite1="\S" 'blood

		if currentChar = 63 then inkv=6: sprite1="\J" 'radiation
		if currentChar = 64 then inkv=6: sprite1="\K" 
		if currentChar = 65 then inkv=6: sprite1="\L" 
		if currentChar = 66 then inkv=6: sprite1="\M" 

		if currentChar = 69 then inkv=7: sprite1="\F" 'robo
		if currentChar = 70 then inkv=7: sprite1="\G" 'robo
		if currentChar = 71 then inkv=7: sprite1="\H" 'robo
		if currentChar = 72 then inkv=7: sprite1="\I" 'robo

		if currentChar = 3 then inkv=1: sprite1="\T" 'switch
	end if
	if currentChar > 21 and currentChar < 33 then
		Environment2()
		if currentChar = 24 then inkv=2: sprite1="\C" ' Blood
		if currentChar = 25 then inkv=1: sprite1="\A" ' Walls decoration left
		if currentChar = 26 then inkv=1: sprite1="\B"
		if currentChar = 27 then inkv=4: sprite1="\H"
		if currentChar = 28 then inkv=1: sprite1="\I" ' Walls decoration right
		if currentChar = 29 then inkv=1: sprite1="\J"
		if currentChar = 30 then inkv=4: sprite1="\K"
		if currentChar = 31 then inkv=4: sprite1="\L"
		if currentChar = 32 then inkv=4: sprite1="\M"	
	end if 
	if currentChar=4 or currentChar=5 then
		Achievement()
		if currentChar = 4 then
			inkv=1: sprite1="\F" ' box bottom
		end if
		if currentChar = 5 then
			inkv=6: sprite1="\G" ' barrel
		end if
	end if
	if currentChar > 72 and currentChar < 79 then
		Ship()
		if currentChar = 73 then inkv=4: sprite1="\A": bright 1
		if currentChar = 74 then inkv=4: sprite1="\B" 
		if currentChar = 75 then inkv=4: sprite1="\C": bright 1
		if currentChar = 76 then inkv=4: sprite1="\D"
		if currentChar = 77 then inkv=4: sprite1="\E": bright 1
		if currentChar = 78 then inkv=4: sprite1="\F"
	end if 

	print at y,x; ink inkv; paper paperv; sprite1
	bright 0
end sub

function CanFall(x as ubyte,y as ubyte, alive as ubyte) as ubyte
	dim value as ubyte
	value = map(y+2,x)
	if alive = 1 then
		if value=0 or (value>1 and value<6) or (value>6 and value<11) or (value>17 and value<21) or (value>11 and value<16) or (value>51 and value<73) or (value>23 and value<33) then
			return 1
		else
			return 0
		end if
	else
		if value=0 or (value>1 and value<11) or (value>17 and value<21) or (value>11 and value<16) or value=24 or (value>51 and value<73) then
			return 1
		else
			return 0
		end if
	end if
end function

function CheckMovement1(value as ubyte) as ubyte
	if value=0 or (value>1 and value<10) or (value>11 and value<16) or value=99 or value=88 or (value>17 and value<33) or value=97 or (value>51 and value<73) then
		return 1
	end if 
	return 0
end function
function CheckMovement2(value as ubyte) as ubyte
	if value=0 or (value>1 and value<10) or (value>11 and value<16) or value=99 or (value>17 and value<33) or (value>51 and value<73) then
		return 1
	end if 
	return 0
end function

function CanMoveLeft(x as ubyte,y as ubyte) as ubyte
	if x=0 then return 0
	dim res as ubyte = 0
	dim value as ubyte
	value = map(y+1,x-1)
	res=CheckMovement1(value)
	value = map(y,x-1)
	if res = 1 then
		res=CheckMovement2(value)
	end if
	return res
end function

function CanMoveRight(x as ubyte,y as ubyte) as ubyte
	if x+1>31 then return 0
	dim res as ubyte 
	res = 0
	dim value as ubyte
	value = map(y+1,x+1)
	res=CheckMovement1(value)
	value = map(y,x+1)
	if res = 1 then
		res=CheckMovement2(value)
	end if
	return res
end function

function CanMoveUpDown(x as ubyte,y as ubyte) as ubyte
	if map(y,x)=6 then
		return 1
	else
		return 0
	end if
end function

function PlayerTookItem1(x as ubyte,y as ubyte) as ubyte
	dim value as ubyte
	value = map(y,x)
	if value=7 then map(y,x)=0: return 1
	if value=8 then map(y,x)=0: return 2
	if value=9 then map(y,x)=0: return 3
	if value=2 then map(y,x)=0: return 4
	if value=99 then return 99
    return 0
end function

sub RecoverEnvironment(x as ubyte, y as ubyte, value as ubyte)
	if map(y-1,x) = value then
		map(y,x)=value
	end if
	if map(y-1,x-1) = value then
		map(y,x-1)=value
	end if
	if map(y-1,x+1) = value then
		map(y,x+1)=value
	end if
	
	dim temp as ubyte
	temp = map(y-1,x)
	if temp = 18 or temp = 20 then
		map(y,x)=19
	end if
	temp = map(y-1,x-1)
	if temp = 18 or temp = 20 then
		map(y,x-1)=19
	end if
	temp = map(y-1,x+1)
	if temp = 18 or temp = 20 then
		map(y,x+1)=19
	end if
end sub 

function PlayerSearch1(x as ubyte, y as ubyte, llife as ubyte) as ubyte
	if x=0 then return 0
	if x=31 then return 0
	dim value as ubyte
	value = map(y,x)
	if value>11 and value<16 then
		ShowTakeMenu(llife)
		map(y,x)=0
		if map(y,x-1)>11 and map(y,x-1)<16 then map(y,x-1)=0
		if map(y,x+1)>11 and map(y,x+1)<16 then map(y,x+1)=0
		'Environment()
		RecoverEnvironment(x,y,6)
		RecoverEnvironment(x,y,4)		
		return 1
	end if
	return 0
end function

function FASTCALL GetKeyScanCode AS UInteger
    asm
		PROC
		LOCAL END_KEY
		LOCAL LOOP

		ld l, 1
		ld a, l
	LOOP:
		cpl
		ld h, a
        in a, (0FEh)
        cpl
		and 1Fh
		jr nz, END_KEY

		ld a, l
		rla
		ld l, a
		jr nc, LOOP
		ld h, a
	END_KEY:
		ld l, a
		ENDP
    end asm
end function

sub ShowTakeMenu(lives as ubyte)
	if lives>0 then
		achTL = 1
		bright 1
		ink 6
		printat64(21,2): print64("+"+STR(lives))		
		bright 0
		Click()
	end if 
end sub

sub OpenDoor(x as ubyte, y as ubyte)
	if map(y,x)<>10 then return
	map(y,x)=0
	if map(y+1,x)=10 then map(y+1,x)=0
	RedrawArea1(x,y)
	RedrawArea1(x,y+1)
	for x=0 to 5
		beep 0.003,-5+x
	next
end sub

function TerminalActivated(x as ubyte, y as ubyte, alc as ubyte) as ubyte
	dim res as ubyte = 0
	if map(y,x) <> 18 then return res
	if localMapNumber=1 then 
		if x=21 and y=10 then
			OpenDoor(8,17)
		end if 
		if x=2 and y=17 then
			OpenDoor(29,2)
		end if 
	end if 
	if localMapNumber=2 then 
		if x=4 and y=5 then
			OpenDoor(13,6)
		end if 
		if x=11 and y=6 then
			OpenDoor(14,6)
		end if 
		if x=26 and y=7 then
			OpenDoor(23,7)
		end if
		if x=24 and y=7 then
			OpenDoor(29,18)
		end if
		if x=17 and y=18 then
			OpenDoor(30,18)
		end if
	end if
	if localMapNumber=3 then 
		if x=6 and y=7 then
			OpenDoor(4,12)
		end if 
		if x=12 and y=7 then
			Click()
			UpdateMap(14,9,1)
			UpdateMap(15,9,1)
			UpdateMap(16,9,1)
		end if 
		if x=25 and y=10 then
			OpenDoor(28,17)
		end if
	end if 
	if localMapNumber=4 then 
		if x=28 and y=17 then
			OpenDoor(28,8)
		end if 
		if x=24 and y=2 then
			OpenDoor(29,8)
		end if
		if x=26 and y=2 then
			OpenDoor(30,8)
		end if
	end if 
	if localMapNumber=5 then 
		if x=29 and y=1 then
			UpdateMap(29,3,0)
			UpdateMap(29,4,0)
			return res
		end if 
		if x=27 and y=12 then
			OpenDoor(22,12)
			UpdateMap(23,14,1)
			UpdateMap(24,14,1)
			UpdateMap(25,14,1)
		end if
		if x=2 and y=16 then
			OpenDoor(10,16)
			OpenDoor(13,17)
			return res
		end if
	end if 
	if localMapNumber=6 then 
		if x=12 and y=6 then
			UpdateMap(17,11,0)
			return res
		end if 
	end if 
	if localMapNumber=7 then 
		if x=3 and y=9 then
			OpenDoor(18,9)
		end if 
		if x=30 and y=3 then
			UpdateMap(16,9,6)
			UpdateMap(16,10,6)
			UpdateMap(16,11,6)
		end if 
	end if 
	if localMapNumber=8 then 
		if x=2 and y=7 then
			UpdateMap(2,9,0)
			UpdateMap(2,10,0)
			UpdateMap(2,13,0)
			UpdateMap(2,14,0)
		end if 
		if x=28 and y=1 then
			UpdateMap(28,3,0)
			UpdateMap(28,4,0)
		end if 
	end if 
	if localMapNumber=9 then 
		if x=19 and y=8 then
			UpdateMap(17,9,6)
			UpdateMap(17,8,6)
			UpdateMap(17,7,6)
			OpenDoor(17,5)
		end if 
		if x=6 and y=8 then
			UpdateMap(6,10,0)
			UpdateMap(6,11,0)
		end if 
		if x=8 and y=8 then
			UpdateMap(7,16,0)
		end if 
		if x=10 and y=8 then
			UpdateMap(12,9,7)
		end if 
		if x=5 and y=18 then
			UpdateMap(10,19,0)
			UpdateMap(10,18,0)
			UpdateMap(11,19,6)
			UpdateMap(11,18,0)
			UpdateMap(11,17,0)
		end if 
		if x=15 and y=17 then
			UpdateMap(17,18,0)
			UpdateMap(18,18,0)
			UpdateMap(18,17,0)
			UpdateMap(19,17,0)
		end if 
	end if 
	if localMapNumber=10 then 
		if x=22 and y=18 then
			UpdateMap(21,19,6)
			UpdateMap(21,18,6)
			UpdateMap(21,17,6)
			UpdateMap(21,16,6)
			UpdateMap(19,16,1)
			UpdateMap(20,16,1)
			OpenDoor(15,14)
		end if 
		if x=12 and y=6 then
			UpdateMap(13,8,0)
			UpdateMap(13,9,0)
			UpdateMap(16,12,0)
			UpdateMap(16,13,0)
			UpdateMap(16,16,0)
			UpdateMap(16,17,0)
			UpdateMap(16,18,0)
		end if 
	end if 
	if localMapNumber=11 then 
		if x=16 and y=2 then
			UpdateMap(16,4,0)
			return res
		end if 
		if x=14 and y=2 then
			UpdateMap(31,16,99)
			UpdateMap(31,15,0)
			UpdateMap(31,17,1)
			return res
		end if 
	end if 
	if localMapNumber=12 then 
		if x=5 and y=18 then
			OpenDoor(16,9)
		end if 
		if x=24 and y=5 then
			UpdateMap(25,17,18)
			UpdateMap(25,18,19)
		end if 
		if x=25 and y=17 and alc=0 then
			OpenDoor(15,1)			
		end if 
		if x=16 and y=1 then
			res=1
		end if 
	end if 
	if localMapNumber=13 then 
		if x=5 and y=10 then
			UpdateMap(4,10,10)
			UpdateMap(4,11,10)
			UpdateMap(7,12,6)
			UpdateMap(6,15,6)
			UpdateMap(5,15,6)
			UpdateMap(4,15,6)
			UpdateMap(3,15,6)
			UpdateMap(2,15,6)
			UpdateMap(1,12,6)
			OpenDoor(11,5)
			return res
		end if 
		if x=15 and y=9 and alc=0 then
			res=2
			UpdateMap(16,11,0)
			UpdateMap(16,12,0)
			UpdateMap(19,17,0)
			UpdateMap(19,18,0)
			UpdateMap(19,19,0)
		end if 
		if x=28 and y=18 and alc=0 then
			res=3		
		end if 
		if x=24 and y=14 and alc=0 then
			res=4		
		end if
	end if 
	if localMapNumber=14 then 
		if x=14 and y=7 and alc>0 then
			return res
		end if 
		if x=10 and y=12 and alc=0 then
			res=5
		end if 
		if x=19 and y=9 and alc=0 then
			res=6
		end if 
		if x=19 and y=13 and alc=3 then
			res=7
		end if 
		if x=2 and y=7 then
			res=8
		end if 
		if x=14 and y=11 and alc=6 then
			OpenDoor(16,1)			
		end if 
		if x=14 and y=15 and alc=6 then
			OpenDoor(18,1)
		end if 
		if x=24 and y=18 then
			UpdateMap(23,18,0)
			UpdateMap(23,19,0)
			UpdateMap(22,19,0)
			UpdateMap(17,18,6)
			UpdateMap(17,19,6)
			UpdateMap(31,6,0)
			UpdateMap(31,7,99)
		end if 
	end if 
	if localMapNumber=15 then 
		if x=20 and y=13 then
			UpdateMap(15,15,6)
			UpdateMap(14,15,6)
			UpdateMap(13,15,6)
			UpdateMap(12,15,6)
			UpdateMap(11,15,6)
			UpdateMap(10,15,6)
			UpdateMap(9,15,6)
			UpdateMap(8,15,6)
			UpdateMap(8,14,0)
			UpdateMap(8,13,0)
			UpdateMap(3,17,6)
			UpdateMap(3,18,6)
			UpdateMap(7,7,6)
			UpdateMap(7,6,6)
			UpdateMap(7,5,6)
			UpdateMap(7,4,6)
		end if 
		if x=22 and y=2 and alc>0 then return res
		if x=22 and y=2 and alc=0 then 
			res=9
		end if 		
	end if 
	if localMapNumber=16 then
		if x=15 and y=18 and alc>0 then return res
		if x=15 and y=18 and alc=0 then res=14
		if x=29 and y=1 and alc>0 then return res
		if x=29 and y=1 and alc=0 then res=15
		if x=26 and y=5 and alc>0 then return res
		if x=26 and y=5 and alc=0 then res=16
		if x=27 and y=9 and alc>0 then return res
	end if
	OpenDoor(x-1,y)
	OpenDoor(x+1,y)
	return res
end function

sub UpdateMap(x as ubyte, y as ubyte, c as ubyte)
	map(y,x)=c
	RedrawArea1(x,y)
	if c>20 then c=20
	beep 0.005,c
end sub 

sub Click()
	dim v as ubyte
	for v = 1 to 7
		beep 0.005,v
	next v
end sub

REM sub Click2()
	REM dim v as ubyte
	REM for v = 1 to 3
		REM beep 0.005,v
	REM next v
REM end sub

sub Shock()
	dim v as ubyte
	for v = 50 to 40 step -1
		beep 0.005,v
	next v
end sub

function GetChar1(x as ubyte, y as ubyte) as ubyte
	return map(y,x)
end function

sub AlienScream()
	dim v as ubyte
	for v = 50 to 45 step -1
		beep 0.003,v
		if v<47 then beep 0.004,5
	next v
end sub

sub HumanScream()
	dim v as ubyte
	for v = 30 to 25 step -1
		beep 0.003,v
		beep 0.002,5
	next v
end sub
